api_version = "2025-01"

[[extensions]]
name = "Barn2 Discounts Function"
handle = "barn2-discounts-function"
type = "function"

[extensions.input.variables]
namespace = "$app:barn2-volume-discount"
key = "function-configuration"

description = "t:description"

  [[extensions.targeting]]
  target = "purchase.product-discount.run"
  input_query = "src/run.graphql"
  export = "run"

  [extensions.build]
  command = ""
  path = "dist/function.wasm"

  [extensions.ui.paths]
  create = "/app/discount/create"
  details = "/app/discount/:id/edit"
